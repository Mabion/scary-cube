export var templateCaches=new Map;export var html=function(strings){for(var _len=arguments.length,values=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++){values[_key-1]=arguments[_key]}return new TemplateResult(strings,values,"html")};export var svg=function(strings){for(var _len2=arguments.length,values=Array(1<_len2?_len2-1:0),_key2=1;_key2<_len2;_key2++){values[_key2-1]=arguments[_key2]}return new SVGTemplateResult(strings,values,"svg")};export var TemplateResult=function(){function TemplateResult(strings,values,type){var partCallback=3<arguments.length&&arguments[3]!==void 0?arguments[3]:defaultPartCallback;babelHelpers.classCallCheck(this,TemplateResult);this.strings=strings;this.values=values;this.type=type;this.partCallback=partCallback}babelHelpers.createClass(TemplateResult,[{key:"getHTML",value:function getHTML(){for(var l=this.strings.length-1,html="",isTextBinding=!0,i=0,s;i<l;i++){s=this.strings[i];html+=s;var closing=findTagClose(s);isTextBinding=-1<closing?closing<s.length:isTextBinding;html+=isTextBinding?nodeMarker:marker}html+=this.strings[l];return html}},{key:"getTemplateElement",value:function getTemplateElement(){var template=document.createElement("template");template.innerHTML=this.getHTML();return template}}]);return TemplateResult}();export var SVGTemplateResult=function(_TemplateResult){babelHelpers.inherits(SVGTemplateResult,_TemplateResult);function SVGTemplateResult(){babelHelpers.classCallCheck(this,SVGTemplateResult);return babelHelpers.possibleConstructorReturn(this,(SVGTemplateResult.__proto__||Object.getPrototypeOf(SVGTemplateResult)).apply(this,arguments))}babelHelpers.createClass(SVGTemplateResult,[{key:"getHTML",value:function getHTML(){return"<svg>".concat(babelHelpers.get(SVGTemplateResult.prototype.__proto__||Object.getPrototypeOf(SVGTemplateResult.prototype),"getHTML",this).call(this),"</svg>")}},{key:"getTemplateElement",value:function getTemplateElement(){var template=babelHelpers.get(SVGTemplateResult.prototype.__proto__||Object.getPrototypeOf(SVGTemplateResult.prototype),"getTemplateElement",this).call(this),content=template.content,svgElement=content.firstChild;content.removeChild(svgElement);reparentNodes(content,svgElement.firstChild);return template}}]);return SVGTemplateResult}(TemplateResult);export function defaultTemplateFactory(result){var templateCache=templateCaches.get(result.type);if(templateCache===void 0){templateCache=new Map;templateCaches.set(result.type,templateCache)}var template=templateCache.get(result.strings);if(template===void 0){template=new Template(result,result.getTemplateElement());templateCache.set(result.strings,template)}return template}export function render(result,container){var templateFactory=2<arguments.length&&arguments[2]!==void 0?arguments[2]:defaultTemplateFactory,template=templateFactory(result),instance=container.__templateInstance;if(instance!==void 0&&instance.template===template&&instance._partCallback===result.partCallback){instance.update(result.values);return}instance=new TemplateInstance(template,result.partCallback,templateFactory);container.__templateInstance=instance;var fragment=instance._clone();instance.update(result.values);removeNodes(container,container.firstChild);container.appendChild(fragment)}var marker="{{lit-".concat((Math.random()+"").slice(2),"}}"),nodeMarker="<!--".concat(marker,"-->"),markerRegex=new RegExp("".concat(marker,"|").concat(nodeMarker)),lastAttributeNameRegex=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function findTagClose(str){var close=str.lastIndexOf(">"),open=str.indexOf("<",close+1);return-1<open?str.length:close}export var TemplatePart=function TemplatePart(type,index,name,rawName,strings){babelHelpers.classCallCheck(this,TemplatePart);this.type=type;this.index=index;this.name=name;this.rawName=rawName;this.strings=strings};export var isTemplatePartActive=function(part){return-1!==part.index};export var Template=function Template(result,element){babelHelpers.classCallCheck(this,Template);this.parts=[];this.element=element;var content=this.element.content,walker=document.createTreeWalker(content,133,null,!1),index=-1,partIndex=0,nodesToRemove=[],previousNode,currentNode;while(walker.nextNode()){index++;previousNode=currentNode;var node=currentNode=walker.currentNode;if(1===node.nodeType){if(!node.hasAttributes()){continue}for(var attributes=node.attributes,count=0,i=0;i<attributes.length;i++){if(0<=attributes[i].value.indexOf(marker)){count++}}while(0<count--){var stringForPart=result.strings[partIndex],attributeNameInPart=lastAttributeNameRegex.exec(stringForPart)[1],attribute=attributes.getNamedItem(attributeNameInPart),stringsForAttributeValue=attribute.value.split(markerRegex);this.parts.push(new TemplatePart("attribute",index,attribute.name,attributeNameInPart,stringsForAttributeValue));node.removeAttribute(attribute.name);partIndex+=stringsForAttributeValue.length-1}}else if(3===node.nodeType){var nodeValue=node.nodeValue;if(0>nodeValue.indexOf(marker)){continue}var parent=node.parentNode,strings=nodeValue.split(markerRegex),lastIndex=strings.length-1;partIndex+=lastIndex;for(var _i=0;_i<lastIndex;_i++){parent.insertBefore(""===strings[_i]?document.createComment(""):document.createTextNode(strings[_i]),node);this.parts.push(new TemplatePart("node",index++))}parent.insertBefore(""===strings[lastIndex]?document.createComment(""):document.createTextNode(strings[lastIndex]),node);nodesToRemove.push(node)}else if(8===node.nodeType&&node.nodeValue===marker){var _parent=node.parentNode,previousSibling=node.previousSibling;if(null===previousSibling||previousSibling!==previousNode||previousSibling.nodeType!==Node.TEXT_NODE){_parent.insertBefore(document.createComment(""),node)}else{index--}this.parts.push(new TemplatePart("node",index++));nodesToRemove.push(node);if(null===node.nextSibling){_parent.insertBefore(document.createComment(""),node)}else{index--}currentNode=previousNode;partIndex++}}for(var _i2=0,n;_i2<nodesToRemove.length;_i2++){n=nodesToRemove[_i2];n.parentNode.removeChild(n)}};export var getValue=function(part,value){if(isDirective(value)){value=value(part);return noChange}return null===value?void 0:value};export var directive=function(f){f.__litDirective=!0;return f};var isDirective=function(o){return"function"===typeof o&&!0===o.__litDirective};export var noChange={};export{noChange as directiveValue};var isPrimitiveValue=function(value){return null===value||!("object"===babelHelpers.typeof(value)||"function"===typeof value)};export var AttributePart=function(){function AttributePart(instance,element,name,strings){babelHelpers.classCallCheck(this,AttributePart);this.instance=instance;this.element=element;this.name=name;this.strings=strings;this.size=strings.length-1;this._previousValues=[]}babelHelpers.createClass(AttributePart,[{key:"_interpolate",value:function _interpolate(values,startIndex){for(var strings=this.strings,l=strings.length-1,text="",i=0;i<l;i++){text+=strings[i];var v=getValue(this,values[startIndex+i]);if(v&&v!==noChange&&(Array.isArray(v)||"string"!==typeof v&&v[Symbol.iterator])){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=v[Symbol.iterator](),_step,t;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){t=_step.value;text+=t}}catch(err){_didIteratorError=!0;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&null!=_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}else{text+=v}}return text+strings[l]}},{key:"_equalToPreviousValues",value:function _equalToPreviousValues(values,startIndex){for(var i=startIndex;i<startIndex+this.size;i++){if(this._previousValues[i]!==values[i]||!isPrimitiveValue(values[i])){return!1}}return!0}},{key:"setValue",value:function setValue(values,startIndex){if(this._equalToPreviousValues(values,startIndex)){return}var s=this.strings,value;if(2===s.length&&""===s[0]&&""===s[1]){value=getValue(this,values[startIndex]);if(Array.isArray(value)){value=value.join("")}}else{value=this._interpolate(values,startIndex)}if(value!==noChange){this.element.setAttribute(this.name,value)}this._previousValues=values}}]);return AttributePart}();export var NodePart=function(){function NodePart(instance,startNode,endNode){babelHelpers.classCallCheck(this,NodePart);this.instance=instance;this.startNode=startNode;this.endNode=endNode;this._previousValue=void 0}babelHelpers.createClass(NodePart,[{key:"setValue",value:function setValue(value){value=getValue(this,value);if(value===noChange){return}if(isPrimitiveValue(value)){if(value===this._previousValue){return}this._setText(value)}else if(babelHelpers.instanceof(value,TemplateResult)){this._setTemplateResult(value)}else if(Array.isArray(value)||value[Symbol.iterator]){this._setIterable(value)}else if(babelHelpers.instanceof(value,Node)){this._setNode(value)}else if(value.then!==void 0){this._setPromise(value)}else{this._setText(value)}}},{key:"_insert",value:function _insert(node){this.endNode.parentNode.insertBefore(node,this.endNode)}},{key:"_setNode",value:function _setNode(value){if(this._previousValue===value){return}this.clear();this._insert(value);this._previousValue=value}},{key:"_setText",value:function _setText(value){var node=this.startNode.nextSibling;value=value===void 0?"":value;if(node===this.endNode.previousSibling&&node.nodeType===Node.TEXT_NODE){node.textContent=value}else{this._setNode(document.createTextNode(value))}this._previousValue=value}},{key:"_setTemplateResult",value:function _setTemplateResult(value){var template=this.instance._getTemplate(value),instance;if(this._previousValue&&this._previousValue.template===template){instance=this._previousValue}else{instance=new TemplateInstance(template,this.instance._partCallback,this.instance._getTemplate);this._setNode(instance._clone());this._previousValue=instance}instance.update(value.values)}},{key:"_setIterable",value:function _setIterable(value){if(!Array.isArray(this._previousValue)){this.clear();this._previousValue=[]}var itemParts=this._previousValue,partIndex=0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _iterator2=value[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var item=_step2.value,itemPart=itemParts[partIndex];if(itemPart===void 0){var itemStart=this.startNode;if(0<partIndex){var previousPart=itemParts[partIndex-1];itemStart=previousPart.endNode=document.createTextNode("");this._insert(itemStart)}itemPart=new NodePart(this.instance,itemStart,this.endNode);itemParts.push(itemPart)}itemPart.setValue(item);partIndex++}}catch(err){_didIteratorError2=!0;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&null!=_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}if(0===partIndex){this.clear();this._previousValue=void 0}else if(partIndex<itemParts.length){var lastPart=itemParts[partIndex-1];itemParts.length=partIndex;this.clear(lastPart.endNode.previousSibling);lastPart.endNode=this.endNode}}},{key:"_setPromise",value:function _setPromise(value){var _this=this;this._previousValue=value;value.then(function(v){if(_this._previousValue===value){_this.setValue(v)}})}},{key:"clear",value:function clear(){var startNode=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;removeNodes(this.startNode.parentNode,startNode.nextSibling,this.endNode)}}]);return NodePart}();export var defaultPartCallback=function(instance,templatePart,node){if("attribute"===templatePart.type){return new AttributePart(instance,node,templatePart.name,templatePart.strings)}else if("node"===templatePart.type){return new NodePart(instance,node,node.nextSibling)}throw new Error("Unknown part type ".concat(templatePart.type))};export var TemplateInstance=function(){function TemplateInstance(template,partCallback,getTemplate){babelHelpers.classCallCheck(this,TemplateInstance);this._parts=[];this.template=template;this._partCallback=partCallback;this._getTemplate=getTemplate}babelHelpers.createClass(TemplateInstance,[{key:"update",value:function update(values){var valueIndex=0,_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _iterator3=this._parts[Symbol.iterator](),_step3,part;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){part=_step3.value;if(!part){valueIndex++}else if(part.size===void 0){part.setValue(values[valueIndex]);valueIndex++}else{part.setValue(values,valueIndex);valueIndex+=part.size}}}catch(err){_didIteratorError3=!0;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&null!=_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}}},{key:"_clone",value:function _clone(){var fragment=this.template.element.content.cloneNode(!0),parts=this.template.parts;if(0<parts.length){for(var _walker=document.createTreeWalker(fragment,133,null,!1),_index=-1,i=0;i<parts.length;i++){var part=parts[i],partActive=isTemplatePartActive(part);if(partActive){while(_index<part.index){_index++;_walker.nextNode()}}this._parts.push(partActive?this._partCallback(this,part,_walker.currentNode):void 0)}}return fragment}}]);return TemplateInstance}();export var reparentNodes=function(container,start){var end=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,before=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,node=start;while(node!==end){var n=node.nextSibling;container.insertBefore(node,before);node=n}};export var removeNodes=function(container,startNode){var endNode=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,node=startNode;while(node!==endNode){var n=node.nextSibling;container.removeChild(node);node=n}};