import{PropertiesMixin}from"../polymer/lib/mixins/properties-mixin.js";import{camelToDashCase}from"../polymer/lib/utils/case-map.js";import{render}from"../../lit-html/lib/shady-render.js";export{html,svg}from"../../lit-html/lib/lit-extended.js";export function renderAttributes(element,attrInfo){for(var a in attrInfo){var v=!0===attrInfo[a]?"":attrInfo[a];if(v||""===v||0===v){if(element.getAttribute(a)!==v){element.setAttribute(a,v+"")}}else if(element.hasAttribute(a)){element.removeAttribute(a)}}}export function classString(classInfo){var o=[];for(var name in classInfo){var v=classInfo[name];if(v){o.push(name)}}return o.join(" ")}export function styleString(styleInfo){var o=[];for(var name in styleInfo){var v=styleInfo[name];if(v||0===v){o.push("".concat(camelToDashCase(name),": ").concat(v))}}return o.join("; ")}export var LitElement=function(_PropertiesMixin){babelHelpers.inherits(LitElement,_PropertiesMixin);function LitElement(){var _this;babelHelpers.classCallCheck(this,LitElement);_this=babelHelpers.possibleConstructorReturn(this,(LitElement.__proto__||Object.getPrototypeOf(LitElement)).apply(this,arguments));_this.__renderComplete=null;_this.__resolveRenderComplete=null;_this.__isInvalid=!1;_this.__isChanging=!1;return _this}babelHelpers.createClass(LitElement,[{key:"ready",value:function ready(){this._root=this._createRoot();babelHelpers.get(LitElement.prototype.__proto__||Object.getPrototypeOf(LitElement.prototype),"ready",this).call(this);this._firstRendered()}},{key:"connectedCallback",value:function connectedCallback(){if(window.ShadyCSS&&this._root){window.ShadyCSS.styleElement(this)}babelHelpers.get(LitElement.prototype.__proto__||Object.getPrototypeOf(LitElement.prototype),"connectedCallback",this).call(this)}},{key:"_firstRendered",value:function _firstRendered(){}},{key:"_createRoot",value:function _createRoot(){return this.attachShadow({mode:"open"})}},{key:"_shouldPropertiesChange",value:function _shouldPropertiesChange(_props,_changedProps,_prevProps){var shouldRender=this._shouldRender(_props,_changedProps,_prevProps);if(!shouldRender&&this.__resolveRenderComplete){this.__resolveRenderComplete(!1)}return shouldRender}},{key:"_shouldRender",value:function _shouldRender(){return!0}},{key:"_propertiesChanged",value:function _propertiesChanged(props,changedProps,prevProps){babelHelpers.get(LitElement.prototype.__proto__||Object.getPrototypeOf(LitElement.prototype),"_propertiesChanged",this).call(this,props,changedProps,prevProps);var result=this._render(props);if(result&&this._root!==void 0){this._applyRender(result,this._root)}this._didRender(props,changedProps,prevProps);if(this.__resolveRenderComplete){this.__resolveRenderComplete(!0)}}},{key:"_flushProperties",value:function _flushProperties(){this.__isChanging=!0;this.__isInvalid=!1;babelHelpers.get(LitElement.prototype.__proto__||Object.getPrototypeOf(LitElement.prototype),"_flushProperties",this).call(this);this.__isChanging=!1}},{key:"_shouldPropertyChange",value:function _shouldPropertyChange(property,value,old){var change=babelHelpers.get(LitElement.prototype.__proto__||Object.getPrototypeOf(LitElement.prototype),"_shouldPropertyChange",this).call(this,property,value,old);if(change&&this.__isChanging){console.trace("Setting properties in response to other properties changing "+"considered harmful. Setting '".concat(property,"' from ")+"'".concat(this._getProperty(property),"' to '").concat(value,"'."))}return change}},{key:"_render",value:function _render(){throw new Error("_render() not implemented")}},{key:"_applyRender",value:function _applyRender(result,node){render(result,node,this.localName)}},{key:"_didRender",value:function _didRender(){}},{key:"requestRender",value:function requestRender(){this._invalidateProperties()}},{key:"_invalidateProperties",value:function _invalidateProperties(){this.__isInvalid=!0;babelHelpers.get(LitElement.prototype.__proto__||Object.getPrototypeOf(LitElement.prototype),"_invalidateProperties",this).call(this)}},{key:"renderComplete",get:function get(){var _this2=this;if(!this.__renderComplete){this.__renderComplete=new Promise(function(resolve){_this2.__resolveRenderComplete=function(value){_this2.__resolveRenderComplete=_this2.__renderComplete=null;resolve(value)}});if(!this.__isInvalid&&this.__resolveRenderComplete){Promise.resolve().then(function(){return _this2.__resolveRenderComplete(!1)})}}return this.__renderComplete}}]);return LitElement}(PropertiesMixin(HTMLElement));